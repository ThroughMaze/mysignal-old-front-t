import"./bootstrap.js";import"./bootstrap.min.js";/* empty css     */import"./_commonjsHelpers.js";class l{constructor(){this.cart=this.loadCart(),this.init()}init(){this.bindEvents(),this.updateCartDisplay(),this.updateCartCount()}bindEvents(){document.querySelectorAll(".quantity-btn").forEach(e=>{e.addEventListener("click",a=>{this.handleQuantityChange(a)})}),document.querySelectorAll(".quantity-input").forEach(e=>{e.addEventListener("change",a=>{this.handleQuantityInput(a)})}),document.querySelectorAll(".remove-item").forEach(e=>{e.addEventListener("click",a=>{this.handleRemoveItem(a)})}),document.querySelectorAll(".add-to-cart-btn").forEach(e=>{e.addEventListener("click",a=>{this.handleAddToCart(a)})});const t=document.getElementById("applyPromo");t&&t.addEventListener("click",()=>{this.handlePromoCode()});const o=document.getElementById("promoCode");o&&o.addEventListener("keypress",e=>{e.key==="Enter"&&this.handlePromoCode()})}handleQuantityChange(t){const o=t.target.dataset.action,e=t.target.closest(".cart-item"),a=e.dataset.productId,n=e.querySelector(".quantity-input");let s=parseInt(n.value);o==="increase"?s=Math.min(s+1,10):o==="decrease"&&(s=Math.max(s-1,1)),n.value=s,this.updateCartItem(a,s)}handleQuantityInput(t){const e=t.target.closest(".cart-item").dataset.productId;let a=parseInt(t.target.value);isNaN(a)||a<1?a=1:a>10&&(a=10),t.target.value=a,this.updateCartItem(e,a)}handleRemoveItem(t){const o=t.target.dataset.productId,e=t.target.closest(".cart-item");e.style.opacity="0.5",e.style.transform="translateX(-20px)",setTimeout(()=>{this.removeFromCart(o),e.remove(),this.updateCartDisplay(),this.updateCartCount(),this.showNotification("Item removed from cart","success")},300)}handleAddToCart(t){const o=t.target.dataset.productId,e=t.target.closest(".related-product-card"),a=e.querySelector("h4").textContent,n=e.querySelector(".current-price").textContent;this.addToCart({id:o,name:a,price:n,quantity:1}),t.target.textContent="Added!",t.target.style.background="#00C73C",setTimeout(()=>{t.target.textContent="Add to Cart",t.target.style.background=""},2e3),this.updateCartCount(),this.showNotification(`${a} added to cart`,"success")}handlePromoCode(){const t=document.getElementById("promoCode"),o=document.getElementById("promoMessage"),e=t.value.trim().toUpperCase(),a={SAVE10:{discount:10,type:"percentage"},WELCOME20:{discount:20,type:"percentage"},FREESHIP:{discount:0,type:"shipping"}};if(a[e]){const n=a[e];o.textContent=`Promo code applied! You saved ${n.discount}${n.type==="percentage"?"%":""}`,o.className="promo-message success",this.applyDiscount(n)}else o.textContent="Invalid promo code. Please try again.",o.className="promo-message error";setTimeout(()=>{o.textContent="",o.className="promo-message"},5e3)}updateCartItem(t,o){const e=this.cart.find(a=>a.id===t);e&&(e.quantity=o,this.saveCart(),this.updateCartDisplay(),this.updateCartCount())}addToCart(t){const o=this.cart.find(e=>e.id===t.id);o?o.quantity+=t.quantity:this.cart.push(t),this.saveCart()}removeFromCart(t){this.cart=this.cart.filter(o=>o.id!==t),this.saveCart()}updateCartDisplay(){const t=document.querySelectorAll(".subtotal"),o=document.querySelectorAll(".total");let e=0;this.cart.forEach(i=>{const d=parseFloat(i.price.replace("£",""));e+=d*i.quantity});const a=e*.2,s=e+a-100;t.forEach(i=>{i.textContent=`£${e.toFixed(2)}`}),document.querySelectorAll(".tax").forEach(i=>{i.textContent=`£${a.toFixed(2)}`}),o.forEach(i=>{i.textContent=`£${s.toFixed(2)}`});const c=document.querySelector(".place-order-btn");c&&(c.innerHTML=`
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <path d="M12 2L3 7V12C3 16.55 6.84 20.74 9.91 21.74C11.39 22.24 12.61 22.24 14.09 21.74C17.16 20.74 21 16.55 21 12V7L12 2Z" stroke="currentColor" stroke-width="2"/>
                    <path d="M9 12L11 14L15 10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                Place Order - £${s.toFixed(2)}
            `)}updateCartCount(){const t=this.cart.reduce((e,a)=>e+a.quantity,0);document.querySelectorAll(".cart-count").forEach(e=>{e.textContent=t,e.classList.add("updated"),setTimeout(()=>e.classList.remove("updated"),300)})}applyDiscount(t){this.updateCartDisplay()}loadCart(){const t=localStorage.getItem("mobileBoosterCart");return t?JSON.parse(t):[{id:"1",name:"Professional Signal Booster Pro",price:"£299.99",quantity:1},{id:"2",name:"Home Signal Booster Essential",price:"£199.99",quantity:2},{id:"3",name:"Signal Booster Accessories Kit",price:"£49.99",quantity:1}]}saveCart(){localStorage.setItem("mobileBoosterCart",JSON.stringify(this.cart))}showNotification(t,o="info"){const e=document.createElement("div");e.className=`notification notification-${o}`,e.innerHTML=`
            <div class="notification-content">
                <span>${t}</span>
                <button class="notification-close">&times;</button>
            </div>
        `,e.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${o==="success"?"#00C73C":o==="error"?"#FF4444":"#1434CB"};
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        `,document.body.appendChild(e),setTimeout(()=>{e.style.transform="translateX(0)"},100),e.querySelector(".notification-close").addEventListener("click",()=>{this.closeNotification(e)}),setTimeout(()=>{this.closeNotification(e)},5e3)}closeNotification(t){t.style.transform="translateX(100%)",setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300)}}new l;(function(){var r=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(r).forEach(function(t){t.addEventListener("submit",function(o){t.checkValidity()||(o.preventDefault(),o.stopPropagation()),t.classList.add("was-validated")},!1)})})();document.querySelector(".subscribe-form").addEventListener("submit",r=>{r.preventDefault(),r.currentTarget.checkValidity()&&r.currentTarget.classList.add("subscribed")});document.addEventListener("DOMContentLoaded",()=>{const r=document.querySelector('[data-bs-toggle="collapse"]'),t=document.querySelector(".fullscreen-nav");r&&t&&r.addEventListener("click",()=>{r.classList.toggle("active"),t.classList.toggle("active")})});function u(r){r.currentTarget.classList.toggle("active")}document.querySelectorAll(".navbar-list > li").forEach(r=>{r.addEventListener("click",u)});document.querySelectorAll(".country-item").forEach(r=>{r.addEventListener("click",t=>{t.currentTarget.querySelector("input[type=radio]").checked?document.querySelector("#openPopup img").src=t.currentTarget.querySelector("img").src:document.querySelector("#openPopup img").src="https://flagcdn.com/gb.svg"})});

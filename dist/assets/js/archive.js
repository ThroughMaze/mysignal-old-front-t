import"./bootstrap.js";import"./bootstrap.min.js";/* empty css        */import"./_commonjsHelpers.js";(function(){var i=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(i).forEach(function(e){e.addEventListener("submit",function(r){e.checkValidity()||(r.preventDefault(),r.stopPropagation()),e.classList.add("was-validated")},!1)})})();const f=document.querySelector(".newsletter-form");f&&f.addEventListener("submit",i=>{if(i.preventDefault(),i.currentTarget.checkValidity()){i.currentTarget.closest(".newsletter-container");const e=document.createElement("div");e.className="alert alert-success text-center",e.innerHTML=`
                <i class="fas fa-check-circle fs-1 text-success mb-3"></i>
                <h4>Thank You!</h4>
                <p>You've been successfully subscribed to our newsletter.</p>
            `,i.currentTarget.style.display="none",i.currentTarget.insertAdjacentElement("afterend",e)}else i.currentTarget.classList.add("was-validated")});document.querySelector(".subscribe-form").addEventListener("submit",i=>{i.preventDefault(),i.currentTarget.checkValidity()&&i.currentTarget.classList.add("subscribed")});document.addEventListener("DOMContentLoaded",()=>{const i=document.querySelector('[data-bs-toggle="collapse"]'),e=document.querySelector(".fullscreen-nav");i.addEventListener("click",()=>{i.classList.toggle("active"),e.classList.toggle("active")})});function q(i){i.currentTarget.classList.toggle("active")}document.querySelectorAll(".navbar-list > li").forEach(i=>{i.addEventListener("click",q)});document.querySelectorAll(".country-item").forEach(i=>{i.addEventListener("click",e=>{e.currentTarget.querySelector("input[type=radio]").checked?document.querySelector("#openPopup img").src=e.currentTarget.querySelector("img").src:document.querySelector("#openPopup img").src="https://flagcdn.com/gb.svg"})});const p=document.getElementById("back-to-top");p&&(window.addEventListener("scroll",()=>{window.pageYOffset>300?p.classList.add("show"):p.classList.remove("show")}),p.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));const y=document.getElementById("productSearch");y&&y.addEventListener("input",i=>{const e=i.target.value.toLowerCase();document.querySelectorAll(".product-card").forEach(t=>{const n=t.querySelector(".product-title").textContent.toLowerCase(),s=t.querySelector(".product-description").textContent.toLowerCase(),c=Array.from(t.querySelectorAll(".feature-tag")).map(l=>l.textContent.toLowerCase()),a=n.includes(e)||s.includes(e)||c.some(l=>l.includes(e));t.closest(".col-md-6").style.display=a?"block":"none"}),updateResultsCount()});function E(){const i=document.querySelectorAll(".range-slider input"),e=document.querySelectorAll(".price-inputs input");document.querySelector(".range-slider .progress");let r=100;i.length&&(e.forEach(t=>{t.addEventListener("input",n=>{let s=parseInt(e[0].value),c=parseInt(e[1].value);c-s>=r&&c<=i[1].max&&(n.target.className==="input-min"?i[0].value=s:i[1].value=c)})}),i.forEach(t=>{t.addEventListener("input",n=>{let s=parseInt(i[0].value),c=parseInt(i[1].value);c-s<r?n.target.className==="min-price"?i[0].value=c-r:i[1].value=s+r:(e[0].value=s,e[1].value=c)})}))}E();class L{constructor(){this.filters={coverage:[],signal:[],carrier:[],price:[]},this.sortBy="featured",this.currentPage=1,this.itemsPerPage=6,this.totalItems=24,this.init()}init(){this.bindEvents(),this.initPagination(),this.updateResultsCount(),this.setupQuickView(),this.setupWishlist(),this.setupCompare(),this.setupAddToCart()}bindEvents(){document.querySelectorAll('input[type="checkbox"]').forEach(s=>{s.addEventListener("change",c=>{this.handleFilterChange(c),this.updateActiveFilters()})});const e=document.getElementById("apply-filters");e&&e.addEventListener("click",()=>{this.applyFilters()});const r=document.getElementById("clear-filters");r&&r.addEventListener("click",()=>{this.clearFilters()});const t=document.getElementById("sort-select");t&&t.addEventListener("change",s=>{this.sortBy=s.target.value,this.applySort()});const n=document.getElementById("per-page");n&&n.addEventListener("change",s=>{this.itemsPerPage=parseInt(s.target.value),this.currentPage=1,this.applyFilters()})}handleFilterChange(e){const r=e.target.name,t=e.target.value;e.target.checked?this.filters[r].includes(t)||this.filters[r].push(t):this.filters[r]=this.filters[r].filter(n=>n!==t)}updateActiveFilters(){const e=document.getElementById("active-filters");if(!e)return;e.innerHTML="";let r=!1;Object.entries(this.filters).forEach(([t,n])=>{n.forEach(s=>{r=!0;const c=document.createElement("div");c.className="filter-tag";let a=s.charAt(0).toUpperCase()+s.slice(1);t==="coverage"&&(s==="small"&&(a="Small Space"),s==="medium"&&(a="Medium Space"),s==="large"&&(a="Large Space"),s==="huge"&&(a="Huge Space")),c.innerHTML=`
                    ${a}
                    <button data-type="${t}" data-value="${s}">
                        <i class="fas fa-times"></i>
                    </button>
                `,c.querySelector("button").addEventListener("click",l=>{const u=l.currentTarget.dataset.type,o=l.currentTarget.dataset.value,d=document.querySelector(`input[name="${u}"][value="${o}"]`);d&&(d.checked=!1),this.filters[u]=this.filters[u].filter(m=>m!==o),this.updateActiveFilters(),this.applyFilters()}),e.appendChild(c)})}),e.style.display=r?"flex":"none"}applyFilters(){this.showLoadingState(),setTimeout(()=>{this.filterProducts(),this.hideLoadingState(),this.updateResultsCount(),this.initPagination()},500)}clearFilters(){this.filters={coverage:[],signal:[],carrier:[],price:[]},document.querySelectorAll('input[type="checkbox"]').forEach(a=>{a.checked=!1});const e=document.getElementById("sort-select");e&&(e.value="featured",this.sortBy="featured");const r=document.getElementById("productSearch");r&&(r.value="");const t=document.querySelector(".input-min"),n=document.querySelector(".input-max"),s=document.querySelector(".min-price"),c=document.querySelector(".max-price");t&&n&&s&&c&&(t.value=0,n.value=1e3,s.value=0,c.value=1e3),this.updateActiveFilters(),this.applyFilters()}filterProducts(){const e=document.querySelectorAll(".product-card");let r=0;e.forEach(t=>{this.shouldShowProduct(t)?(t.closest(".col-md-6").style.display="block",r++):t.closest(".col-md-6").style.display="none"}),this.totalItems=r,r===0?this.showEmptyState():this.hideEmptyState()}shouldShowProduct(e){return Object.values(this.filters).some(t=>t.length>0)?Math.random()>.3:!0}applySort(){const e=document.querySelector(".products-grid .row"),r=Array.from(e.children);r.sort((t,n)=>{switch(this.sortBy){case"price-low":return this.getPrice(t)-this.getPrice(n);case"price-high":return this.getPrice(n)-this.getPrice(t);case"newest":return-1;case"rating":return this.getRating(n)-this.getRating(t);case"featured":default:return 0}}),r.forEach(t=>e.appendChild(t))}getPrice(e){const r=e.querySelector(".current-price");return r?parseFloat(r.textContent.replace("£","")):0}getRating(e){const r=e.querySelector(".product-rating span");return r?parseInt(r.textContent.replace(/[()]/g,"")):0}showLoadingState(){document.querySelectorAll(".product-card").forEach(r=>{r.style.opacity="0.5",r.style.pointerEvents="none"})}hideLoadingState(){document.querySelectorAll(".product-card").forEach(r=>{r.style.opacity="1",r.style.pointerEvents="auto"})}showEmptyState(){const e=document.querySelector(".products-grid .row");if(!document.querySelector(".empty-state")){const r=document.createElement("div");r.className="empty-state text-center py-5",r.innerHTML=`
                <i class="fas fa-search fa-3x text-muted mb-3"></i>
                <h3>No products found</h3>
                <p>Try adjusting your filters or search criteria to find what you're looking for.</p>
                <button class="btn-primary px-4 py-2" onclick="archiveManager.clearFilters()">
                    <i class="fas fa-undo-alt me-2"></i>Clear All Filters
                </button>
            `,e.appendChild(r)}}hideEmptyState(){const e=document.querySelector(".empty-state");e&&e.remove()}updateResultsCount(){const e=document.getElementById("results-count");e&&(e.textContent=this.totalItems)}initPagination(){const e=document.querySelector(".pagination");if(!e)return;const r=Math.ceil(this.totalItems/this.itemsPerPage),t=e.querySelector(".prev"),n=e.querySelector(".next"),s=document.querySelector(".pagination-info p");if(s){const c=(this.currentPage-1)*this.itemsPerPage+1,a=Math.min(c+this.itemsPerPage-1,this.totalItems);s.innerHTML=`Showing <span>${c}-${a}</span> of <span>${this.totalItems}</span> products`}t&&(t.disabled=this.currentPage===1),n&&(n.disabled=this.currentPage===r),document.querySelectorAll(".page-btn:not(.prev):not(.next)").forEach(c=>{c.addEventListener("click",()=>{c.classList.contains("active")||(document.querySelectorAll(".page-btn").forEach(a=>a.classList.remove("active")),c.classList.add("active"),this.currentPage=parseInt(c.textContent),this.applyFilters(),document.querySelector(".products-header").scrollIntoView({behavior:"smooth"}))})}),t&&t.addEventListener("click",()=>{this.currentPage>1&&(this.currentPage--,this.applyFilters(),document.querySelectorAll(".page-btn:not(.prev):not(.next)").forEach(c=>{parseInt(c.textContent)===this.currentPage?c.classList.add("active"):c.classList.remove("active")}))}),n&&n.addEventListener("click",()=>{this.currentPage<r&&(this.currentPage++,this.applyFilters(),document.querySelectorAll(".page-btn:not(.prev):not(.next)").forEach(c=>{parseInt(c.textContent)===this.currentPage?c.classList.add("active"):c.classList.remove("active")}))})}setupQuickView(){document.querySelectorAll(".quickview-btn").forEach(e=>{e.addEventListener("click",r=>{var d;r.preventDefault();const t=r.currentTarget.closest(".product-card"),n=t.querySelector(".product-title").textContent,s=t.querySelector(".current-price").textContent,c=((d=t.querySelector(".original-price"))==null?void 0:d.textContent)||"",a=t.querySelector(".product-description").textContent,l=t.querySelector(".product-image img").src,u=t.querySelector(".product-rating").innerHTML,o=document.getElementById("quickview-modal");if(o){if(o.querySelector(".product-title").textContent=n,o.querySelector(".product-rating").innerHTML=u,o.querySelector(".current-price").textContent=s,c){o.querySelector(".original-price").textContent=c,o.querySelector(".original-price").style.display="inline";const v=parseFloat(s.replace("£","")),h=parseFloat(c.replace("£","")),S=Math.round((h-v)/h*100);o.querySelector(".discount-badge").textContent=`-${S}%`,o.querySelector(".discount-badge").style.display="inline"}else o.querySelector(".original-price")&&(o.querySelector(".original-price").style.display="none"),o.querySelector(".discount-badge")&&(o.querySelector(".discount-badge").style.display="none");o.querySelector(".product-description").textContent=a,o.querySelector(".quickview-image img").src=l,new bootstrap.Modal(o).show()}})})}setupWishlist(){document.querySelectorAll(".wishlist-btn").forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();const t=r.currentTarget.querySelector("i");t.classList.contains("far")?(t.classList.remove("far"),t.classList.add("fas"),t.style.color="#FF4444",this.showNotification("Product added to wishlist","success")):(t.classList.remove("fas"),t.classList.add("far"),t.style.color="",this.showNotification("Product removed from wishlist","info"))})})}setupCompare(){document.querySelectorAll(".compare-btn").forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();const n=r.currentTarget.closest(".product-card").querySelector(".product-title").textContent;this.showNotification(`${n} added to compare list`,"success")})})}setupAddToCart(){document.querySelectorAll(".btn-cart, .btn-add-to-cart").forEach(e=>{e.addEventListener("click",r=>{r.preventDefault();const t=r.currentTarget.closest(".product-card")||r.currentTarget.closest(".modal-content"),n=t.querySelector(".product-title").textContent;t.querySelector(".current-price").textContent;let s=1;const c=t.querySelector(".quantity-selector input");c&&(s=parseInt(c.value)),this.showNotification(`${s} × ${n} added to cart`,"success"),document.querySelectorAll(".cart-count").forEach(l=>{const u=parseInt(l.textContent);l.textContent=u+s,l.classList.add("pulse"),setTimeout(()=>{l.classList.remove("pulse")},500)})})})}showNotification(e,r="info"){const t=document.createElement("div");t.className=`notification notification-${r}`,t.innerHTML=`
            <div class="notification-content">
                <i class="fas ${r==="success"?"fa-check-circle":r==="error"?"fa-exclamation-circle":"fa-info-circle"}"></i>
                <span>${e}</span>
                <button class="notification-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `,t.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${r==="success"?"#00C73C":r==="error"?"#FF4444":"#1434CB"};
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            max-width: 350px;
        `,t.querySelector(".notification-content").style.cssText=`
            display: flex;
            align-items: center;
            gap: 0.75rem;
        `,t.querySelector(".notification-close").style.cssText=`
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            margin-left: auto;
        `,document.body.appendChild(t),setTimeout(()=>{t.style.transform="translateX(0)"},100),t.querySelector(".notification-close").addEventListener("click",()=>{t.style.transform="translateX(100%)",setTimeout(()=>{t.remove()},300)}),setTimeout(()=>{t.style.transform="translateX(100%)",setTimeout(()=>{t.remove()},300)},5e3)}}const C=new L;window.archiveManager=C;document.addEventListener("shown.bs.modal",function(i){if(i.target.id==="quickview-modal"){const e=i.target.querySelector(".quantity-selector");if(e){const r=e.querySelector(".minus"),t=e.querySelector(".plus"),n=e.querySelector("input");r.addEventListener("click",()=>{let s=parseInt(n.value);s=Math.max(1,s-1),n.value=s}),t.addEventListener("click",()=>{let s=parseInt(n.value);s=Math.min(10,s+1),n.value=s}),n.addEventListener("change",()=>{let s=parseInt(n.value);isNaN(s)||s<1?s=1:s>10&&(s=10),n.value=s})}}});const g=document.createElement("style");g.textContent=`
    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.2); }
        100% { transform: scale(1); }
    }
    
    .cart-count.pulse {
        animation: pulse 0.5s ease;
    }
`;document.head.appendChild(g);

import"./bootstrap.js";import"./bootstrap.min.js";import"./_commonjsHelpers.js";(function(){var n=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(n).forEach(function(e){e.addEventListener("submit",function(t){e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")},!1)})})();document.querySelector(".subscribe-form").addEventListener("submit",n=>{n.preventDefault(),n.currentTarget.checkValidity()&&n.currentTarget.classList.add("subscribed")});document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector('[data-bs-toggle="collapse"]'),e=document.querySelector(".fullscreen-nav");n.addEventListener("click",()=>{n.classList.toggle("active"),e.classList.toggle("active")})});function a(n){n.currentTarget.classList.toggle("active")}document.querySelectorAll(".navbar-list > li").forEach(n=>{n.addEventListener("click",a)});document.querySelectorAll(".country-item").forEach(n=>{n.addEventListener("click",e=>{e.currentTarget.querySelector("input[type=radio]").checked?document.querySelector("#openPopup img").src=e.currentTarget.querySelector("img").src:document.querySelector("#openPopup img").src="https://flagcdn.com/gb.svg"})});class o{constructor(){this.filters={coverage:[],signal:[],carrier:[]},this.sortBy="newest",this.currentPage=1,this.itemsPerPage=6,this.totalItems=24,this.init()}init(){this.bindEvents(),this.initPagination(),this.updateResultsCount()}bindEvents(){var e,t,r;document.querySelectorAll('input[type="checkbox"]').forEach(i=>{i.addEventListener("change",s=>{this.handleFilterChange(s)})}),(e=document.getElementById("apply-filters"))==null||e.addEventListener("click",()=>{this.applyFilters()}),(t=document.getElementById("clear-filters"))==null||t.addEventListener("click",()=>{this.clearFilters()}),(r=document.getElementById("sort-select"))==null||r.addEventListener("change",i=>{this.sortBy=i.target.value,this.applySort()})}handleFilterChange(e){const t=e.target.name,r=e.target.value;e.target.checked?this.filters[t].includes(r)||this.filters[t].push(r):this.filters[t]=this.filters[t].filter(i=>i!==r)}applyFilters(){this.showLoadingState(),setTimeout(()=>{this.filterProducts(),this.hideLoadingState(),this.updateResultsCount()},500)}clearFilters(){this.filters={coverage:[],signal:[],carrier:[]},document.querySelectorAll('input[type="checkbox"]').forEach(e=>{e.checked=!1}),document.getElementById("sort-select").value="newest",this.sortBy="newest",this.applyFilters()}filterProducts(){const e=document.querySelectorAll(".archive-product-card");let t=0;e.forEach(r=>{this.shouldShowProduct(r)?(r.parentElement.style.display="block",t++):r.parentElement.style.display="none"}),this.totalItems=t,t===0?this.showEmptyState():this.hideEmptyState()}shouldShowProduct(e){return Object.values(this.filters).some(r=>r.length>0)?Math.random()>.3:!0}applySort(){const e=document.querySelector(".archive-products-grid .row"),t=Array.from(e.children);t.sort((r,i)=>{switch(this.sortBy){case"price-low":return this.getPrice(r)-this.getPrice(i);case"price-high":return this.getPrice(i)-this.getPrice(r);case"newest":return 1;case"oldest":return-1;case"popular":return Math.random()-.5;default:return 0}}),t.forEach(r=>e.appendChild(r))}getPrice(e){const t=e.querySelector(".current-price");return t?parseFloat(t.textContent.replace("Â£","")):0}showLoadingState(){document.querySelectorAll(".archive-product-card").forEach(t=>{t.style.opacity="0.5",t.style.pointerEvents="none"})}hideLoadingState(){document.querySelectorAll(".archive-product-card").forEach(t=>{t.style.opacity="1",t.style.pointerEvents="auto"})}showEmptyState(){const e=document.querySelector(".archive-products-grid");if(!document.querySelector(".empty-state")){const t=document.createElement("div");t.className="empty-state",t.innerHTML=`
                <h3>No products found</h3>
                <p>Try adjusting your filters or search criteria to find what you're looking for.</p>
                <button class="btn-primary" onclick="archiveManager.clearFilters()">Clear All Filters</button>
            `,e.appendChild(t)}}hideEmptyState(){const e=document.querySelector(".empty-state");e&&e.remove()}updateResultsCount(){const e=document.getElementById("results-count");e&&(e.textContent=this.totalItems)}initPagination(){document.querySelector(".pagination")&&this.renderPagination()}renderPagination(){const e=document.querySelector(".pagination"),t=Math.ceil(this.totalItems/this.itemsPerPage);if(t<=1){e.innerHTML="";return}let r="";r+=`
            <button class="page-btn prev ${this.currentPage===1?"disabled":""}" 
                    onclick="archiveManager.goToPage(${this.currentPage-1})"
                    ${this.currentPage===1?"disabled":""}>
                <
            </button>
        `;for(let i=1;i<=t;i++)i===this.currentPage?r+=`<button class="page-btn active">${i}</button>`:r+=`<button class="page-btn" onclick="archiveManager.goToPage(${i})">${i}</button>`;r+=`
            <button class="page-btn next ${this.currentPage===t?"disabled":""}" 
                    onclick="archiveManager.goToPage(${this.currentPage+1})"
                    ${this.currentPage===t?"disabled":""}>
                >
            </button>
        `,e.innerHTML=r}goToPage(e){const t=Math.ceil(this.totalItems/this.itemsPerPage);e<1||e>t||(this.currentPage=e,this.renderPagination(),document.querySelector(".archive-results-header").scrollIntoView({behavior:"smooth"}))}}const c=new o;window.archiveManager=c;

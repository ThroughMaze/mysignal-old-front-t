import"./bootstrap.js";import"./bootstrap.min.js";import"./_commonjsHelpers.js";(function(){var c=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(c).forEach(function(e){e.addEventListener("submit",function(t){e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")},!1)})})();const f=document.querySelector(".newsletter-form");f&&f.addEventListener("submit",c=>{if(c.preventDefault(),c.currentTarget.checkValidity()){c.currentTarget.closest(".newsletter-container");const e=document.createElement("div");e.className="alert alert-success text-center",e.innerHTML=`
                <i class="fas fa-check-circle fs-1 text-success mb-3"></i>
                <h4>Thank You!</h4>
                <p>You've been successfully subscribed to our newsletter.</p>
            `,c.currentTarget.style.display="none",c.currentTarget.insertAdjacentElement("afterend",e)}else c.currentTarget.classList.add("was-validated")});document.querySelector(".subscribe-form").addEventListener("submit",c=>{c.preventDefault(),c.currentTarget.checkValidity()&&c.currentTarget.classList.add("subscribed")});document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelector('[data-bs-toggle="collapse"]'),e=document.querySelector(".fullscreen-nav");c.addEventListener("click",()=>{c.classList.toggle("active"),e.classList.toggle("active")})});function S(c){c.currentTarget.classList.toggle("active")}document.querySelectorAll(".navbar-list > li").forEach(c=>{c.addEventListener("click",S)});document.querySelectorAll(".country-item").forEach(c=>{c.addEventListener("click",e=>{e.currentTarget.querySelector("input[type=radio]").checked?document.querySelector("#openPopup img").src=e.currentTarget.querySelector("img").src:document.querySelector("#openPopup img").src="https://flagcdn.com/gb.svg"})});const p=document.getElementById("back-to-top");p&&(window.addEventListener("scroll",()=>{window.pageYOffset>300?p.classList.add("show"):p.classList.remove("show")}),p.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}));const y=document.getElementById("productSearch");y&&y.addEventListener("input",c=>{const e=c.target.value.toLowerCase();document.querySelectorAll(".product-card").forEach(t=>{const r=t.querySelector(".product-title").textContent.toLowerCase(),i=t.querySelector(".product-description").textContent.toLowerCase(),s=Array.from(t.querySelectorAll(".feature-tag")).map(o=>o.textContent.toLowerCase()),n=r.includes(e)||i.includes(e)||s.some(o=>o.includes(e));t.closest(".col-md-6").style.display=n?"block":"none"}),updateResultsCount()});function q(){const c=document.querySelectorAll(".range-slider input"),e=document.querySelectorAll(".price-inputs input");document.querySelector(".range-slider .progress");let t=100;c.length&&(e.forEach(r=>{r.addEventListener("input",i=>{let s=parseInt(e[0].value),n=parseInt(e[1].value);n-s>=t&&n<=c[1].max&&(i.target.className==="input-min"?c[0].value=s:c[1].value=n)})}),c.forEach(r=>{r.addEventListener("input",i=>{let s=parseInt(c[0].value),n=parseInt(c[1].value);n-s<t?i.target.className==="min-price"?c[0].value=n-t:c[1].value=s+t:(e[0].value=s,e[1].value=n)})}))}q();class E{constructor(){this.filters={coverage:[],signal:[],carrier:[],price:[]},this.sortBy="featured",this.currentPage=1,this.itemsPerPage=6,this.totalItems=24,this.init()}init(){this.bindEvents(),this.initPagination(),this.updateResultsCount(),this.setupQuickView(),this.setupWishlist(),this.setupCompare(),this.setupAddToCart()}bindEvents(){document.querySelectorAll('input[type="checkbox"]').forEach(s=>{s.addEventListener("change",n=>{this.handleFilterChange(n),this.updateActiveFilters()})});const e=document.getElementById("apply-filters");e&&e.addEventListener("click",()=>{this.applyFilters()});const t=document.getElementById("clear-filters");t&&t.addEventListener("click",()=>{this.clearFilters()});const r=document.getElementById("sort-select");r&&r.addEventListener("change",s=>{this.sortBy=s.target.value,this.applySort()});const i=document.getElementById("per-page");i&&i.addEventListener("change",s=>{this.itemsPerPage=parseInt(s.target.value),this.currentPage=1,this.applyFilters()})}handleFilterChange(e){const t=e.target.name,r=e.target.value;e.target.checked?this.filters[t].includes(r)||this.filters[t].push(r):this.filters[t]=this.filters[t].filter(i=>i!==r)}updateActiveFilters(){const e=document.getElementById("active-filters");if(!e)return;e.innerHTML="";let t=!1;Object.entries(this.filters).forEach(([r,i])=>{i.forEach(s=>{t=!0;const n=document.createElement("div");n.className="filter-tag";let o=s.charAt(0).toUpperCase()+s.slice(1);r==="coverage"&&(s==="small"&&(o="Small Space"),s==="medium"&&(o="Medium Space"),s==="large"&&(o="Large Space"),s==="huge"&&(o="Huge Space")),n.innerHTML=`
                    ${o}
                    <button data-type="${r}" data-value="${s}">
                        <i class="fas fa-times"></i>
                    </button>
                `,n.querySelector("button").addEventListener("click",l=>{const u=l.currentTarget.dataset.type,a=l.currentTarget.dataset.value,d=document.querySelector(`input[name="${u}"][value="${a}"]`);d&&(d.checked=!1),this.filters[u]=this.filters[u].filter(m=>m!==a),this.updateActiveFilters(),this.applyFilters()}),e.appendChild(n)})}),e.style.display=t?"flex":"none"}applyFilters(){this.showLoadingState(),setTimeout(()=>{this.filterProducts(),this.hideLoadingState(),this.updateResultsCount(),this.initPagination()},500)}clearFilters(){this.filters={coverage:[],signal:[],carrier:[],price:[]},document.querySelectorAll('input[type="checkbox"]').forEach(o=>{o.checked=!1});const e=document.getElementById("sort-select");e&&(e.value="featured",this.sortBy="featured");const t=document.getElementById("productSearch");t&&(t.value="");const r=document.querySelector(".input-min"),i=document.querySelector(".input-max"),s=document.querySelector(".min-price"),n=document.querySelector(".max-price");r&&i&&s&&n&&(r.value=0,i.value=1e3,s.value=0,n.value=1e3),this.updateActiveFilters(),this.applyFilters()}filterProducts(){const e=document.querySelectorAll(".product-card");let t=0;e.forEach(r=>{this.shouldShowProduct(r)?(r.closest(".col-md-6").style.display="block",t++):r.closest(".col-md-6").style.display="none"}),this.totalItems=t,t===0?this.showEmptyState():this.hideEmptyState()}shouldShowProduct(e){return Object.values(this.filters).some(t=>t.length>0)?Math.random()>.3:!0}applySort(){const e=document.querySelector(".products-grid .row"),t=Array.from(e.children);t.sort((r,i)=>{switch(this.sortBy){case"price-low":return this.getPrice(r)-this.getPrice(i);case"price-high":return this.getPrice(i)-this.getPrice(r);case"newest":return-1;case"rating":return this.getRating(i)-this.getRating(r);case"featured":default:return 0}}),t.forEach(r=>e.appendChild(r))}getPrice(e){const t=e.querySelector(".current-price");return t?parseFloat(t.textContent.replace("£","")):0}getRating(e){const t=e.querySelector(".product-rating span");return t?parseInt(t.textContent.replace(/[()]/g,"")):0}showLoadingState(){document.querySelectorAll(".product-card").forEach(e=>{e.style.opacity="0.5",e.style.pointerEvents="none"})}hideLoadingState(){document.querySelectorAll(".product-card").forEach(e=>{e.style.opacity="1",e.style.pointerEvents="auto"})}showEmptyState(){const e=document.querySelector(".products-grid .row");if(!document.querySelector(".empty-state")){const t=document.createElement("div");t.className="empty-state text-center py-5",t.innerHTML=`
                <i class="fas fa-search fa-3x text-muted mb-3"></i>
                <h3>No products found</h3>
                <p>Try adjusting your filters or search criteria to find what you're looking for.</p>
                <button class="btn-primary px-4 py-2" onclick="archiveManager.clearFilters()">
                    <i class="fas fa-undo-alt me-2"></i>Clear All Filters
                </button>
            `,e.appendChild(t)}}hideEmptyState(){const e=document.querySelector(".empty-state");e&&e.remove()}updateResultsCount(){const e=document.getElementById("results-count");e&&(e.textContent=this.totalItems)}initPagination(){const e=document.querySelector(".pagination");if(!e)return;const t=Math.ceil(this.totalItems/this.itemsPerPage),r=e.querySelector(".prev"),i=e.querySelector(".next"),s=document.querySelector(".pagination-info p");if(s){const n=(this.currentPage-1)*this.itemsPerPage+1,o=Math.min(n+this.itemsPerPage-1,this.totalItems);s.innerHTML=`Showing <span>${n}-${o}</span> of <span>${this.totalItems}</span> products`}r&&(r.disabled=this.currentPage===1),i&&(i.disabled=this.currentPage===t),document.querySelectorAll(".page-btn:not(.prev):not(.next)").forEach(n=>{n.addEventListener("click",()=>{n.classList.contains("active")||(document.querySelectorAll(".page-btn").forEach(o=>o.classList.remove("active")),n.classList.add("active"),this.currentPage=parseInt(n.textContent),this.applyFilters(),document.querySelector(".products-header").scrollIntoView({behavior:"smooth"}))})}),r&&r.addEventListener("click",()=>{this.currentPage>1&&(this.currentPage--,this.applyFilters(),document.querySelectorAll(".page-btn:not(.prev):not(.next)").forEach(n=>{parseInt(n.textContent)===this.currentPage?n.classList.add("active"):n.classList.remove("active")}))}),i&&i.addEventListener("click",()=>{this.currentPage<t&&(this.currentPage++,this.applyFilters(),document.querySelectorAll(".page-btn:not(.prev):not(.next)").forEach(n=>{parseInt(n.textContent)===this.currentPage?n.classList.add("active"):n.classList.remove("active")}))})}setupQuickView(){document.querySelectorAll(".quickview-btn").forEach(e=>{e.addEventListener("click",t=>{var d;t.preventDefault();const r=t.currentTarget.closest(".product-card"),i=r.querySelector(".product-title").textContent,s=r.querySelector(".current-price").textContent,n=((d=r.querySelector(".original-price"))==null?void 0:d.textContent)||"",o=r.querySelector(".product-description").textContent,l=r.querySelector(".product-image img").src,u=r.querySelector(".product-rating").innerHTML,a=document.getElementById("quickview-modal");if(a){if(a.querySelector(".product-title").textContent=i,a.querySelector(".product-rating").innerHTML=u,a.querySelector(".current-price").textContent=s,n){a.querySelector(".original-price").textContent=n,a.querySelector(".original-price").style.display="inline";const m=parseFloat(s.replace("£","")),h=parseFloat(n.replace("£","")),v=Math.round((h-m)/h*100);a.querySelector(".discount-badge").textContent=`-${v}%`,a.querySelector(".discount-badge").style.display="inline"}else a.querySelector(".original-price")&&(a.querySelector(".original-price").style.display="none"),a.querySelector(".discount-badge")&&(a.querySelector(".discount-badge").style.display="none");a.querySelector(".product-description").textContent=o,a.querySelector(".quickview-image img").src=l,new bootstrap.Modal(a).show()}})})}setupWishlist(){document.querySelectorAll(".wishlist-btn").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const r=t.currentTarget.querySelector("i");r.classList.contains("far")?(r.classList.remove("far"),r.classList.add("fas"),r.style.color="#FF4444",this.showNotification("Product added to wishlist","success")):(r.classList.remove("fas"),r.classList.add("far"),r.style.color="",this.showNotification("Product removed from wishlist","info"))})})}setupCompare(){document.querySelectorAll(".compare-btn").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const r=t.currentTarget.closest(".product-card").querySelector(".product-title").textContent;this.showNotification(`${r} added to compare list`,"success")})})}setupAddToCart(){document.querySelectorAll(".btn-cart, .btn-add-to-cart").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const r=t.currentTarget.closest(".product-card")||t.currentTarget.closest(".modal-content"),i=r.querySelector(".product-title").textContent;r.querySelector(".current-price").textContent;let s=1;const n=r.querySelector(".quantity-selector input");n&&(s=parseInt(n.value)),this.showNotification(`${s} × ${i} added to cart`,"success"),document.querySelectorAll(".cart-count").forEach(o=>{const l=parseInt(o.textContent);o.textContent=l+s,o.classList.add("pulse"),setTimeout(()=>{o.classList.remove("pulse")},500)})})})}showNotification(e,t="info"){const r=document.createElement("div");r.className=`notification notification-${t}`,r.innerHTML=`
            <div class="notification-content">
                <i class="fas ${t==="success"?"fa-check-circle":t==="error"?"fa-exclamation-circle":"fa-info-circle"}"></i>
                <span>${e}</span>
                <button class="notification-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        `,r.style.cssText=`
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${t==="success"?"#00C73C":t==="error"?"#FF4444":"#1434CB"};
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
            max-width: 350px;
        `,r.querySelector(".notification-content").style.cssText=`
            display: flex;
            align-items: center;
            gap: 0.75rem;
        `,r.querySelector(".notification-close").style.cssText=`
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            margin-left: auto;
        `,document.body.appendChild(r),setTimeout(()=>{r.style.transform="translateX(0)"},100),r.querySelector(".notification-close").addEventListener("click",()=>{r.style.transform="translateX(100%)",setTimeout(()=>{r.remove()},300)}),setTimeout(()=>{r.style.transform="translateX(100%)",setTimeout(()=>{r.remove()},300)},5e3)}}const L=new E;window.archiveManager=L;document.addEventListener("shown.bs.modal",function(c){if(c.target.id==="quickview-modal"){const e=c.target.querySelector(".quantity-selector");if(e){const t=e.querySelector(".minus"),r=e.querySelector(".plus"),i=e.querySelector("input");t.addEventListener("click",()=>{let s=parseInt(i.value);s=Math.max(1,s-1),i.value=s}),r.addEventListener("click",()=>{let s=parseInt(i.value);s=Math.min(10,s+1),i.value=s}),i.addEventListener("change",()=>{let s=parseInt(i.value);isNaN(s)||s<1?s=1:s>10&&(s=10),i.value=s})}}});const g=document.createElement("style");g.textContent=`
    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.2); }
        100% { transform: scale(1); }
    }
    
    .cart-count.pulse {
        animation: pulse 0.5s ease;
    }
`;document.head.appendChild(g);

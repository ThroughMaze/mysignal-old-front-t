import"./bootstrap.cehe8Wpv.js";/* empty css             *//* empty css             *//* empty css              */import"./bootstrap.min.BMAZu0qp.js";import"./_commonjsHelpers.oaXnIxvN.js";var t;function e(t){t.currentTarget.classList.toggle("active")}new class{constructor(){this.cart=this.loadCart(),this.init()}init(){this.bindEvents(),this.updateCartDisplay(),this.updateCartCount()}bindEvents(){document.querySelectorAll(".quantity-btn").forEach((t=>{t.addEventListener("click",(t=>{this.handleQuantityChange(t)}))})),document.querySelectorAll(".quantity-input").forEach((t=>{t.addEventListener("change",(t=>{this.handleQuantityInput(t)}))})),document.querySelectorAll(".remove-item").forEach((t=>{t.addEventListener("click",(t=>{this.handleRemoveItem(t)}))})),document.querySelectorAll(".add-to-cart-btn").forEach((t=>{t.addEventListener("click",(t=>{this.handleAddToCart(t)}))}));const t=document.getElementById("applyPromo");t&&t.addEventListener("click",(()=>{this.handlePromoCode()}));const e=document.getElementById("promoCode");e&&e.addEventListener("keypress",(t=>{"Enter"===t.key&&this.handlePromoCode()}))}handleQuantityChange(t){const e=t.target.dataset.action,o=t.target.closest(".cart-item"),a=o.dataset.productId,r=o.querySelector(".quantity-input");let n=parseInt(r.value);"increase"===e?n=Math.min(n+1,10):"decrease"===e&&(n=Math.max(n-1,1)),r.value=n,this.updateCartItem(a,n)}handleQuantityInput(t){const e=t.target.closest(".cart-item").dataset.productId;let o=parseInt(t.target.value);isNaN(o)||o<1?o=1:o>10&&(o=10),t.target.value=o,this.updateCartItem(e,o)}handleRemoveItem(t){const e=t.target.dataset.productId,o=t.target.closest(".cart-item");o.style.opacity="0.5",o.style.transform="translateX(-20px)",setTimeout((()=>{this.removeFromCart(e),o.remove(),this.updateCartDisplay(),this.updateCartCount(),this.showNotification("Item removed from cart","success")}),300)}handleAddToCart(t){const e=t.target.dataset.productId,o=t.target.closest(".related-product-card"),a=o.querySelector("h4").textContent,r=o.querySelector(".current-price").textContent;this.addToCart({id:e,name:a,price:r,quantity:1}),t.target.textContent="Added!",t.target.style.background="#00C73C",setTimeout((()=>{t.target.textContent="Add to Cart",t.target.style.background=""}),2e3),this.updateCartCount(),this.showNotification(`${a} added to cart`,"success")}handlePromoCode(){const t=document.getElementById("promoCode"),e=document.getElementById("promoMessage"),o=t.value.trim().toUpperCase(),a={SAVE10:{discount:10,type:"percentage"},WELCOME20:{discount:20,type:"percentage"},FREESHIP:{discount:0,type:"shipping"}};if(a[o]){const t=a[o];e.textContent=`Promo code applied! You saved ${t.discount}${"percentage"===t.type?"%":""}`,e.className="promo-message success",this.applyDiscount(t)}else e.textContent="Invalid promo code. Please try again.",e.className="promo-message error";setTimeout((()=>{e.textContent="",e.className="promo-message"}),5e3)}updateCartItem(t,e){const o=this.cart.find((e=>e.id===t));o&&(o.quantity=e,this.saveCart(),this.updateCartDisplay(),this.updateCartCount())}addToCart(t){const e=this.cart.find((e=>e.id===t.id));e?e.quantity+=t.quantity:this.cart.push(t),this.saveCart()}removeFromCart(t){this.cart=this.cart.filter((e=>e.id!==t)),this.saveCart()}updateCartDisplay(){const t=document.querySelectorAll(".subtotal"),e=document.querySelectorAll(".total");let o=0;this.cart.forEach((t=>{const e=parseFloat(t.price.replace("£",""));o+=e*t.quantity}));const a=.2*o,r=o+a-100;t.forEach((t=>{t.textContent=`£${o.toFixed(2)}`})),document.querySelectorAll(".tax").forEach((t=>{t.textContent=`£${a.toFixed(2)}`})),e.forEach((t=>{t.textContent=`£${r.toFixed(2)}`}));const n=document.querySelector(".place-order-btn");n&&(n.innerHTML=`\n                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">\n                    <path d="M12 2L3 7V12C3 16.55 6.84 20.74 9.91 21.74C11.39 22.24 12.61 22.24 14.09 21.74C17.16 20.74 21 16.55 21 12V7L12 2Z" stroke="currentColor" stroke-width="2"/>\n                    <path d="M9 12L11 14L15 10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>\n                </svg>\n                Place Order - £${r.toFixed(2)}\n            `)}updateCartCount(){const t=this.cart.reduce(((t,e)=>t+e.quantity),0);document.querySelectorAll(".cart-count").forEach((e=>{e.textContent=t,e.classList.add("updated"),setTimeout((()=>e.classList.remove("updated")),300)}))}applyDiscount(t){this.updateCartDisplay()}loadCart(){const t=localStorage.getItem("mobileBoosterCart");return t?JSON.parse(t):[{id:"1",name:"Professional Signal Booster Pro",price:"£299.99",quantity:1},{id:"2",name:"Home Signal Booster Essential",price:"£199.99",quantity:2},{id:"3",name:"Signal Booster Accessories Kit",price:"£49.99",quantity:1}]}saveCart(){localStorage.setItem("mobileBoosterCart",JSON.stringify(this.cart))}showNotification(t,e="info"){const o=document.createElement("div");o.className=`notification notification-${e}`,o.innerHTML=`\n            <div class="notification-content">\n                <span>${t}</span>\n                <button class="notification-close">&times;</button>\n            </div>\n        `,o.style.cssText=`\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            background: ${"success"===e?"#00C73C":"error"===e?"#FF4444":"#1434CB"};\n            color: white;\n            padding: 1rem 1.5rem;\n            border-radius: 0.5rem;\n            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\n            z-index: 1000;\n            transform: translateX(100%);\n            transition: transform 0.3s ease;\n        `,document.body.appendChild(o),setTimeout((()=>{o.style.transform="translateX(0)"}),100),o.querySelector(".notification-close").addEventListener("click",(()=>{this.closeNotification(o)})),setTimeout((()=>{this.closeNotification(o)}),5e3)}closeNotification(t){t.style.transform="translateX(100%)",setTimeout((()=>{t.parentNode&&t.parentNode.removeChild(t)}),300)}},t=document.querySelectorAll(".needs-validation"),Array.prototype.slice.call(t).forEach((function(t){t.addEventListener("submit",(function(e){t.checkValidity()||(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated")}),!1)})),document.querySelector(".subscribe-form").addEventListener("submit",(t=>{t.preventDefault(),t.currentTarget.checkValidity()&&t.currentTarget.classList.add("subscribed")})),document.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector('[data-bs-toggle="collapse"]'),e=document.querySelector(".fullscreen-nav");t&&e&&t.addEventListener("click",(()=>{t.classList.toggle("active"),e.classList.toggle("active")}))})),document.querySelectorAll(".navbar-list > li").forEach((t=>{t.addEventListener("click",e)})),document.querySelectorAll(".country-item").forEach((t=>{t.addEventListener("click",(t=>{t.currentTarget.querySelector("input[type=radio]").checked?document.querySelector("#openPopup img").src=t.currentTarget.querySelector("img").src:document.querySelector("#openPopup img").src="https://flagcdn.com/gb.svg"}))}));
//# sourceMappingURL=cart.bundle.js.map
